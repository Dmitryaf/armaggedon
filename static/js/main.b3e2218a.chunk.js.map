{"version":3,"sources":["components/Footer/Footer.jsx","components/Header/Header.jsx","redux/dataReducer.js","utils/utils.js","components/Card/Card.jsx","components/ApproachList/ApproachItem/ApproachItem.jsx","components/ApproachList/ApproachList.jsx","pages/AsteroidItem/AsteroidItem.jsx","components/Filter/Filter.jsx","components/Options/Options.jsx","components/Preloader/Preloader.jsx","pages/Asteroids/Asteroids.jsx","api/api.js","pages/Destruction/Destruction.jsx","App.js","redux/store.js","index.js"],"names":["Footer","className","Header","href","to","activeClassName","SET_DATA","SET_MEASURE","TOGGLE_IS_DANGER","ADD_TO_DESTRUCTION_CART","DELETE_FROM_DESTRUCTION_CART","SET_OFFSET","RESET_OFFSET","SET_CURRENT_ITEM","initialState","data","destructionCart","currentItem","measure","offset","isDanger","setData","type","payload","toggleIsDanger","Utils","date","Date","day","getDay","month","getMonth","year","getFullYear","dateArray","filter","item","close_approach_date","getCurrentDate","transformDate","toLocaleString","replace","hour","minute","transformDistanse","Math","floor","measureDistance","distance","this","transformDistance","kilometers","lunar","asteroidSize","Card","props","dispatch","useDispatch","measureData","useSelector","state","dataReducer","id","isDestruction","name_limited","estimated_diameter","close_approach_data","is_potentially_hazardous_asteroid","inDestructionCart","find","filteredDate","filterDate","closestDateApproach","transformedDate","getTransformDate","getDistance","miss_distance","size","meters","estimated_diameter_max","asteroidClass","addToCart","elementId","addToDestructionCart","deleteFromCart","deleteFromDestructionCart","onClick","ApproachItem","info","speed","relative_velocity","kilometers_per_hour","time","getTime","close_approach_date_full","orbite","orbiting_body","ApproachList","cardData","map","uuidv4","AsteroidItem","Filter","useEffect","defaultChecked","Options","clickHandler","activeBtn","setMeasure","Preloader","Asteroids","asteroidsData","offsetItems","asteroid","slice","scrollHandler","useCallback","e","target","documentElement","scrollHeight","scrollTop","window","innerHeight","a","axios","response","near_earth_objects","alert","message","document","addEventListener","removeEventListener","length","Destruction","App","path","component","rootReducer","combineReducers","action","asteroidItem","existedItem","store","composeWithDevTools","applyMiddleware","save","thunk","createStore","createStoreWithMiddleware","load","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b3e2218a.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Footer.scss';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className='footer'>2021 © Все права и планеты защищены</footer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './Header.scss';\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className='header'>\r\n      <div className='header__left'>\r\n        <a href='/armaggedon' className='header__logo'>\r\n          armaggedon V\r\n        </a>\r\n        <span className='header__logo-descr'>\r\n          Сервис мониторинга и уничтожения астероидов, опасно подлетающих к\r\n          Земле\r\n        </span>\r\n      </div>\r\n      <nav className='header__nav'>\r\n        <NavLink\r\n          to='/asteroids'\r\n          activeClassName='header__link_active'\r\n          className='header__link'\r\n        >\r\n          <span>Астероиды</span>\r\n        </NavLink>\r\n        <NavLink\r\n          to='/destruction'\r\n          activeClassName='header__link_active'\r\n          className='header__link'\r\n        >\r\n          <span>Уничтожение</span>\r\n        </NavLink>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n","const SET_DATA = 'SET_DATA';\r\nconst SET_MEASURE = 'SET_MEASURE';\r\nconst TOGGLE_IS_DANGER = 'TOGGLE_IS_DANGER';\r\nconst ADD_TO_DESTRUCTION_CART = 'ADD_TO_DESTRUCTION_CART';\r\nconst DELETE_FROM_DESTRUCTION_CART = 'DELETE_FROM_DESTRUCTION_CART';\r\nconst SET_OFFSET = 'SET_OFFSET';\r\nconst RESET_OFFSET = 'RESET_OFFSET';\r\nconst SET_CURRENT_ITEM = 'SET_CURRENT_ITEM';\r\n\r\nconst initialState = {\r\n  data: [],\r\n  destructionCart: [],\r\n  currentItem: {},\r\n  measure: 'км',\r\n  offset: 5,\r\n  isDanger: false,\r\n};\r\n\r\nexport default function dataReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_DATA:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n\r\n    case SET_MEASURE:\r\n      return {\r\n        ...state,\r\n        measure: action.payload,\r\n      };\r\n\r\n    case TOGGLE_IS_DANGER:\r\n      return {\r\n        ...state,\r\n        isDanger: action.payload,\r\n      };\r\n\r\n    case ADD_TO_DESTRUCTION_CART:\r\n      const asteroidItem = state.data.find((item) => item.id === action.id);\r\n      const existedItem = state.destructionCart.find((item) => {\r\n        return item ? item.id === action.id : null;\r\n      });\r\n      return {\r\n        ...state,\r\n        destructionCart: existedItem\r\n          ? [...state.destructionCart]\r\n          : [...state.destructionCart, asteroidItem],\r\n      };\r\n\r\n    case DELETE_FROM_DESTRUCTION_CART:\r\n      return {\r\n        ...state,\r\n        destructionCart: [\r\n          ...state.destructionCart.filter((item) => item.id !== action.id),\r\n        ],\r\n      };\r\n\r\n    case SET_OFFSET:\r\n      return {\r\n        ...state,\r\n        offset: state.offset + 5,\r\n      };\r\n\r\n    case RESET_OFFSET:\r\n      return {\r\n        ...state,\r\n        offset: 5,\r\n      };\r\n\r\n    case SET_CURRENT_ITEM:\r\n      return {\r\n        ...state,\r\n        currentItem: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setData = (data) => ({ type: SET_DATA, payload: data });\r\n\r\nexport const setMeasure = (measure) => ({\r\n  type: SET_MEASURE,\r\n  payload: measure,\r\n});\r\n\r\nexport const toggleIsDanger = (isDanger) => ({\r\n  type: TOGGLE_IS_DANGER,\r\n  payload: isDanger,\r\n});\r\n\r\nexport const addToDestructionCart = (id) => ({\r\n  type: ADD_TO_DESTRUCTION_CART,\r\n  id,\r\n});\r\n\r\nexport const deleteFromDestructionCart = (id) => ({\r\n  type: DELETE_FROM_DESTRUCTION_CART,\r\n  id,\r\n});\r\n\r\nexport const setOffset = () => ({\r\n  type: SET_OFFSET,\r\n});\r\n\r\nexport const resetOffset = () => ({\r\n  type: RESET_OFFSET,\r\n});\r\n\r\nexport const setCurrentItem = (data) => ({\r\n  type: SET_CURRENT_ITEM,\r\n  payload: data,\r\n});\r\n","// Класс для вспомогательных фунций\r\nclass Utils {\r\n  // Получение текущей даты\r\n  static getCurrentDate() {\r\n    const date = new Date();\r\n    const day = date.getDay();\r\n    const month = date.getMonth();\r\n    const year = date.getFullYear();\r\n    return `${year}-${month}-${day}`;\r\n  }\r\n\r\n  // Фильтрация по актуальным датам\r\n  static filterDate(dateArray) {\r\n    return dateArray.filter(\r\n      (item) => item.close_approach_date >= this.getCurrentDate()\r\n    );\r\n  }\r\n\r\n  // Трансформирует приходящую дату в нужный формат\r\n  static getTransformDate(transformDate) {\r\n    const date = new Date(transformDate);\r\n    const params = date.toLocaleString('ru', {\r\n      day: 'numeric',\r\n      month: 'long',\r\n      year: 'numeric',\r\n    });\r\n    return params.replace(/[г.]/g, '');\r\n  }\r\n\r\n  // Получает время из даты приходящей из API\r\n  static getTime(transformDate) {\r\n    const date = new Date(transformDate);\r\n    const params = date.toLocaleString('ru', {\r\n      hour: 'numeric',\r\n      minute: 'numeric',\r\n    });\r\n    return params;\r\n  }\r\n\r\n  // Трансформирует приходящее значение дистанции в нужный формат\r\n  static transformDistance(transformDistanse) {\r\n    return Math.floor(transformDistanse).toLocaleString('ru');\r\n  }\r\n\r\n  // Возвращает расстояние в указаной  единице измерения\r\n  static getDistance(measureDistance, distance) {\r\n    return measureDistance === 'км'\r\n      ? `${this.transformDistance(distance.kilometers)}`\r\n      : `${this.transformDistance(distance.lunar)}`;\r\n  }\r\n\r\n  // Возвращает класс в зависимости от значения параметров\r\n  static asteroidClass(asteroidSize, isDanger) {\r\n    if (isDanger && asteroidSize > 3000 && asteroidSize < 10000) {\r\n      return 'card_asteroid_md card_danger';\r\n    }\r\n    if (isDanger && asteroidSize >= 10000) {\r\n      return 'card_asteroid_lg card_danger';\r\n    }\r\n    if (!isDanger && asteroidSize > 3000 && asteroidSize < 10000) {\r\n      return 'card_asteroid_md';\r\n    }\r\n    if (!isDanger && asteroidSize > 10000) {\r\n      return 'card_asteroid_lg';\r\n    }\r\n    return '';\r\n  }\r\n}\r\n\r\nexport default Utils;\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  addToDestructionCart,\r\n  deleteFromDestructionCart,\r\n  setCurrentItem,\r\n} from '../../redux/dataReducer';\r\nimport Utils from '../../utils/utils';\r\nimport './Card.scss';\r\n\r\nexport default function Card(props) {\r\n  const dispatch = useDispatch();\r\n  const measureData = useSelector((state) => state.dataReducer.measure);\r\n  const destructionCart = useSelector(\r\n    (state) => state.dataReducer.destructionCart\r\n  );\r\n\r\n  const { id, isDestruction } = props;\r\n\r\n  const {\r\n    name_limited,\r\n    estimated_diameter,\r\n    close_approach_data,\r\n    is_potentially_hazardous_asteroid,\r\n  } = props.data;\r\n\r\n  const inDestructionCart = destructionCart.find((item) => item.id === id);\r\n\r\n  // Данные астероида\r\n  const filteredDate = Utils.filterDate(close_approach_data);\r\n  const closestDateApproach = filteredDate[0].close_approach_date;\r\n  const transformedDate = Utils.getTransformDate(closestDateApproach);\r\n  const distance = Utils.getDistance(\r\n    measureData,\r\n    filteredDate[0].miss_distance\r\n  );\r\n  const size = Math.floor(estimated_diameter.meters.estimated_diameter_max);\r\n\r\n  // Определение класса астероида взависимости от размера\r\n  const asteroidClass = Utils.asteroidClass(\r\n    size,\r\n    is_potentially_hazardous_asteroid\r\n  );\r\n\r\n  // Определение опасности астероида\r\n  const isDanger = () => {\r\n    return is_potentially_hazardous_asteroid ? 'опасен' : 'не опасен';\r\n  };\r\n\r\n  const addToCart = (elementId) => {\r\n    dispatch(addToDestructionCart(elementId));\r\n  };\r\n\r\n  const deleteFromCart = (elementId) => {\r\n    dispatch(deleteFromDestructionCart(elementId));\r\n  };\r\n\r\n  const setItem = () => {\r\n    dispatch(setCurrentItem(props.data));\r\n  };\r\n\r\n  return (\r\n    <div className={`card ${asteroidClass}`}>\r\n      <div className='card__content'>\r\n        <div className='card__info'>\r\n          <NavLink\r\n            to={`/asteroid/${id}`}\r\n            onClick={setItem}\r\n            className='card__title'\r\n          >\r\n            {name_limited}\r\n          </NavLink>\r\n\r\n          <div className='card__row'>\r\n            <div className='card__row-name'>Дата</div>\r\n            <span className='card__row-line'></span>\r\n            <div className='card__row-value'>{transformedDate}</div>\r\n          </div>\r\n          <div className='card__row'>\r\n            <div className='card__row-name'>Расстояние</div>\r\n            <span className='card__row-line'></span>\r\n            <div className='card__row-value'>\r\n              {distance}&nbsp;\r\n              {measureData}\r\n            </div>\r\n          </div>\r\n          <div className='card__row'>\r\n            <div className='card__row-name'>Размер</div>\r\n            <span className='card__row-line'></span>\r\n            <div className='card__row-value'>{size}&nbsp;м</div>\r\n          </div>\r\n        </div>\r\n        <div className='card__rating'>\r\n          <h3 className='card__rating-title'>Оценка:</h3>\r\n          <div className='card__rating-text'>\r\n            {isDanger(is_potentially_hazardous_asteroid)}\r\n          </div>\r\n          {isDestruction ? (\r\n            <button\r\n              type='button'\r\n              onClick={() => {\r\n                deleteFromCart(id);\r\n              }}\r\n              className='btn'\r\n            >\r\n              Удалить из списка\r\n            </button>\r\n          ) : (\r\n            <button\r\n              type='button'\r\n              onClick={() => {\r\n                addToCart(id);\r\n              }}\r\n              className={`btn ${inDestructionCart ? 'btn_disable' : ''}`}\r\n            >\r\n              {inDestructionCart ? 'В списке на уничтожение' : 'На уничтожение'}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Utils from '../../../utils/utils';\r\nimport './ApproachItem.scss';\r\n\r\nexport default function ApproachItem(props) {\r\n  const { measure, info } = props;\r\n  const date = Utils.getTransformDate(info.close_approach_date);\r\n  const speed = Math.floor(info.relative_velocity.kilometers_per_hour);\r\n  const time = Utils.getTime(info.close_approach_date_full);\r\n  const distance = Utils.getDistance(measure, info.miss_distance);\r\n  const orbite = info.orbiting_body;\r\n\r\n  return (\r\n    <div className='approach-item'>\r\n      <div className='approach-item__wrapper'>\r\n        <div className='approach-item__date'>\r\n          <div className='approach-item__header-title'>Дата</div>\r\n          {date}\r\n        </div>\r\n        <div className='approach-item__info'>\r\n          <div className='approach-item__header-title approach-item__header-title_right'>\r\n            Дополнительная информация\r\n          </div>\r\n          <div className='approach-item__row'>\r\n            <div className='approach-item__row-name'>Время сближения</div>\r\n            <span className='approach-item__row-line'></span>\r\n            <div className='approach-item__row-value'>{time}</div>\r\n          </div>\r\n          <div className='approach-item__row'>\r\n            <div className='approach-item__row-name'>Скорость</div>\r\n            <span className='approach-item__row-line'></span>\r\n            <div className='approach-item__row-value'>{speed} км/ч</div>\r\n          </div>\r\n          <div className='approach-item__row'>\r\n            <div className='approach-item__row-name'>Расстояние</div>\r\n            <span className='approach-item__row-line'></span>\r\n            <div className='approach-item__row-value'>\r\n              {distance} {measure}\r\n            </div>\r\n          </div>\r\n          <div className='approach-item__row'>\r\n            <div className='approach-item__row-name'>Орбита</div>\r\n            <span className='approach-item__row-line'></span>\r\n            <div className='approach-item__row-value'>{orbite}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ApproachItem from './ApproachItem/ApproachItem';\r\nimport './ApproachList.scss';\r\n\r\nexport default function ApproachList() {\r\n  const cardData = useSelector((state) => state.dataReducer.currentItem)\r\n    .close_approach_data;\r\n  const measureData = useSelector((state) => state.dataReducer.measure);\r\n\r\n  return (\r\n    <div className='approach-list'>\r\n      {cardData.map((item) => {\r\n        return (\r\n          <ApproachItem key={uuidv4()} measure={measureData} info={item} />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Card from '../../components/Card/Card';\r\nimport ApproachList from '../../components/ApproachList/ApproachList';\r\nimport './AsteroidItem.scss';\r\n\r\nexport default function AsteroidItem() {\r\n  const cardData = useSelector((state) => state.dataReducer.currentItem);\r\n\r\n  return (\r\n    <div className='card-page'>\r\n      <h1 className='card-page__title'>Карточка астероида</h1>\r\n      <Card\r\n        key={cardData.id}\r\n        id={cardData.id}\r\n        data={cardData}\r\n        isDestruction={false}\r\n      />\r\n      <h2 className='card-page__subtitle'>Список всех сближений</h2>\r\n      <ApproachList />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toggleIsDanger } from '../../redux/dataReducer';\r\nimport './Filter.scss';\r\n\r\nexport default function Filter() {\r\n  const dispatch = useDispatch();\r\n  const isDanger = useSelector((state) => state.dataReducer.isDanger);\r\n\r\n  const clickHandler = () => {\r\n    dispatch(toggleIsDanger(!isDanger));\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(toggleIsDanger(false));\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className='filter' onClick={clickHandler}>\r\n      <div className='filter__label'>\r\n        Показать только опасные\r\n        <input\r\n          type='checkbox'\r\n          className='filter__input'\r\n          defaultChecked={isDanger}\r\n        />\r\n        <span className='filter__mark'></span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setMeasure } from '../../redux/dataReducer';\r\nimport './Options.scss';\r\n\r\nexport default function Options() {\r\n  const dispatch = useDispatch();\r\n  const measure = useSelector((state) => state.dataReducer.measure);\r\n\r\n  const clickHandler = (measure, activeBtn) => {\r\n    dispatch(setMeasure(measure));\r\n  };\r\n\r\n  return (\r\n    <div className='options'>\r\n      <button\r\n        type='button'\r\n        onClick={() => clickHandler('км')}\r\n        className={`options__btn ${\r\n          measure === 'км' ? 'options__btn_active' : ''\r\n        }`}\r\n      >\r\n        Расстояние <span className='options__btn-text'>в километрах</span>,\r\n      </button>\r\n      <button\r\n        type='button'\r\n        onClick={() => clickHandler('лунар')}\r\n        className={`options__btn ${\r\n          measure === 'лунар' ? 'options__btn_active' : ''\r\n        }`}\r\n      >\r\n        <span className='options__btn-text'>в дистациях</span> до луны\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './Preloader.scss';\r\n\r\nexport default function Preloader() {\r\n  return <div className='preloader'></div>;\r\n}\r\n","import React, { useEffect, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { resetOffset, setOffset } from '../../redux/dataReducer';\r\nimport { getApiData } from '../../api/api';\r\nimport Filter from '../../components/Filter/Filter';\r\nimport Options from '../../components/Options/Options';\r\nimport Card from '../../components/Card/Card';\r\nimport Preloader from '../../components/Preloader/Preloader';\r\nimport './Asteroids.scss';\r\n\r\nexport default function Asteroids() {\r\n  const dispatch = useDispatch();\r\n  const asteroidsData = useSelector((state) => state.dataReducer.data);\r\n  const isDanger = useSelector((state) => state.dataReducer.isDanger);\r\n  const offset = useSelector((state) => state.dataReducer.offset);\r\n\r\n  let asteroidsItems;\r\n\r\n  if (isDanger) {\r\n    asteroidsItems = [...asteroidsData].filter((asteroid) => {\r\n      return asteroid.is_potentially_hazardous_asteroid === isDanger;\r\n    });\r\n  } else {\r\n    asteroidsItems = asteroidsData;\r\n  }\r\n\r\n  const offsetItems = asteroidsItems.slice(0, offset);\r\n\r\n  const scrollHandler = useCallback(\r\n    (e) => {\r\n      if (\r\n        e.target.documentElement.scrollHeight -\r\n          (e.target.documentElement.scrollTop + window.innerHeight) <\r\n        50\r\n      ) {\r\n        dispatch(setOffset());\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(getApiData());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('scroll', scrollHandler);\r\n    return () => {\r\n      document.removeEventListener('scroll', scrollHandler);\r\n    };\r\n  }, [scrollHandler]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(resetOffset());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className='asteroids'>\r\n      <div className='asteroids__options'>\r\n        <Filter />\r\n        <Options />\r\n      </div>\r\n      <div className='asteroids__list'>\r\n        {offsetItems.length < 1 && <Preloader />}\r\n\r\n        {offsetItems.map((asteroid) => {\r\n          return (\r\n            <Card\r\n              key={asteroid.id}\r\n              id={asteroid.id}\r\n              data={asteroid}\r\n              isDestruction={false}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport { setData } from '../redux/dataReducer';\r\n\r\nconst apiUrl =\r\n  'https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=JdZrMyQiNT5Zg1vwjiY2H2UCEWw8K7ZnTQdm8rww';\r\n\r\nexport function getApiData() {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios(`${apiUrl}`);\r\n      const data = await response.data.near_earth_objects;\r\n      dispatch(setData(data));\r\n    } catch (e) {\r\n      alert(e.response.data.message);\r\n    }\r\n  };\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Card from '../../components/Card/Card';\r\nimport './Destruction.scss';\r\n\r\nexport default function Destruction() {\r\n  const destructionCart = useSelector(\r\n    (state) => state.dataReducer.destructionCart\r\n  );\r\n\r\n  return (\r\n    <div className='destruction'>\r\n      <div className='destruction__list'>\r\n        {destructionCart.length > 0 ? (\r\n          destructionCart.map((asteroid) => {\r\n            return (\r\n              <Card\r\n                key={asteroid.id}\r\n                id={asteroid.id}\r\n                data={asteroid}\r\n                isDestruction={true}\r\n              />\r\n            );\r\n          })\r\n        ) : (\r\n          <p className='destruction__empty'>Список пуст</p>\r\n        )}\r\n\r\n        {destructionCart.length > 0 && (\r\n          <button type='button' className='btn btn_center'>\r\n            Заказать бригаду\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport { Route, Redirect, BrowserRouter, Switch } from 'react-router-dom';\nimport Footer from './components/Footer/Footer';\nimport Header from './components/Header/Header';\nimport AsteroidItem from './pages/AsteroidItem/AsteroidItem';\nimport Asteroids from './pages/Asteroids/Asteroids';\nimport Destruction from './pages/Destruction/Destruction';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <div className='App'>\n        <div className='container'>\n          <Header />\n          <Switch>\n            <Route path='/asteroids' component={Asteroids} />\n            <Route path='/destruction' component={Destruction} />\n            <Route path='/asteroid/:id' component={AsteroidItem} />\n            <Redirect to='/asteroids' />\n          </Switch>\n          <Footer />\n        </div>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { save, load } from 'redux-localstorage-simple';\r\nimport dataReducer from './dataReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  dataReducer: dataReducer,\r\n});\r\n\r\nconst createStoreWithMiddleware = composeWithDevTools(\r\n  applyMiddleware(save(), thunk)\r\n)(createStore);\r\n\r\nconst store = createStoreWithMiddleware(rootReducer, load());\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport store from './redux/store';\r\nimport './scss/global.scss';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}
(this.webpackJsonparmaggedon=this.webpackJsonparmaggedon||[]).push([[0],{47:function(e,t,c){},49:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(16),s=c.n(r),i=c(3),o=c(11),d=c(4),l=(c(47),c(0));function u(){return Object(l.jsx)("footer",{className:"footer",children:"2021 \xa9 \u0412\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0438 \u043f\u043b\u0430\u043d\u0435\u0442\u044b \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b"})}c(49);function j(){return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsxs)("div",{className:"header__left",children:[Object(l.jsx)("a",{href:"/armaggedon",className:"header__logo",children:"armaggedon V"}),Object(l.jsx)("span",{className:"header__logo-descr",children:"\u0421\u0435\u0440\u0432\u0438\u0441 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0438 \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0435\u043d\u0438\u044f \u0430\u0441\u0442\u0435\u0440\u043e\u0438\u0434\u043e\u0432, \u043e\u043f\u0430\u0441\u043d\u043e \u043f\u043e\u0434\u043b\u0435\u0442\u0430\u044e\u0449\u0438\u0445 \u043a \u0417\u0435\u043c\u043b\u0435"})]}),Object(l.jsxs)("nav",{className:"header__nav",children:[Object(l.jsx)(o.b,{to:"/asteroids",activeClassName:"header__link_active",className:"header__link",children:Object(l.jsx)("span",{children:"\u0410\u0441\u0442\u0435\u0440\u043e\u0438\u0434\u044b"})}),Object(l.jsx)(o.b,{to:"/destruction",activeClassName:"header__link_active",className:"header__link",children:Object(l.jsx)("span",{children:"\u0423\u043d\u0438\u0447\u0442\u043e\u0436\u0435\u043d\u0438\u0435"})})]})]})}var b=c(13),_=c(5),m="SET_DATA",h="SET_MEASURE",O="TOGGLE_IS_DANGER",p="ADD_TO_DESTRUCTION_CART",f="DELETE_FROM_DESTRUCTION_CART",x="SET_OFFSET",v="RESET_OFFSET",N="SET_CURRENT_ITEM",g={data:[],destructionCart:[],currentItem:{},measure:"\u043a\u043c",offset:5,isDanger:!1};var w=function(e){return{type:m,payload:e}},y=function(e){return{type:O,payload:e}},D=c(32),k=c(33),E=function(){function e(){Object(D.a)(this,e)}return Object(k.a)(e,null,[{key:"getCurrentDate",value:function(){var e=new Date,t=e.getDay(),c=e.getMonth(),a=e.getFullYear();return"".concat(a,"-").concat(c,"-").concat(t)}},{key:"filterDate",value:function(e){var t=this;return e.filter((function(e){return e.close_approach_date>=t.getCurrentDate()}))}},{key:"getTransformDate",value:function(e){return new Date(e).toLocaleString("ru",{day:"numeric",month:"long",year:"numeric"}).replace(/[\u0433.]/g,"")}},{key:"getTime",value:function(e){return new Date(e).toLocaleString("ru",{hour:"numeric",minute:"numeric"})}},{key:"transformDistance",value:function(e){return Math.floor(e).toLocaleString("ru")}},{key:"getDistance",value:function(e,t){return"".concat("\u043a\u043c"===e?this.transformDistance(t.kilometers):this.transformDistance(t.lunar))}},{key:"asteroidClass",value:function(e,t){return t&&e>3e3&&e<1e4?"card_asteroid_md card_danger":t&&e>=1e4?"card_asteroid_lg card_danger":!t&&e>3e3&&e<1e4?"card_asteroid_md":!t&&e>1e4?"card_asteroid_lg":""}}]),e}();c(54);function C(e){var t=Object(i.b)(),c=Object(i.c)((function(e){return e.dataReducer.measure})),a=Object(i.c)((function(e){return e.dataReducer.destructionCart})),n=e.id,r=e.isDestruction,s=e.data,d=s.name_limited,u=s.estimated_diameter,j=s.close_approach_data,b=s.is_potentially_hazardous_asteroid,_=a.find((function(e){return e.id===n})),m=E.filterDate(j),h=m[0].close_approach_date,O=E.getTransformDate(h),x=E.getDistance(c,m[0].miss_distance),v=Math.floor(u.meters.estimated_diameter_max),g=E.asteroidClass(v,b),w=function(e){t(function(e){return{type:p,id:e}}(e))},y=function(e){t(function(e){return{type:f,id:e}}(e))};return Object(l.jsx)("div",{className:"card ".concat(g),children:Object(l.jsxs)("div",{className:"card__content",children:[Object(l.jsxs)("div",{className:"card__info",children:[Object(l.jsx)(o.b,{to:"/asteroid/".concat(n),onClick:function(){t(function(e){return{type:N,payload:e}}(e.data))},className:"card__title",children:d}),Object(l.jsxs)("div",{className:"card__row",children:[Object(l.jsx)("div",{className:"card__row-name",children:"\u0414\u0430\u0442\u0430"}),Object(l.jsx)("span",{className:"card__row-line"}),Object(l.jsx)("div",{className:"card__row-value",children:O})]}),Object(l.jsxs)("div",{className:"card__row",children:[Object(l.jsx)("div",{className:"card__row-name",children:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"}),Object(l.jsx)("span",{className:"card__row-line"}),Object(l.jsxs)("div",{className:"card__row-value",children:[x,"\xa0",c]})]}),Object(l.jsxs)("div",{className:"card__row",children:[Object(l.jsx)("div",{className:"card__row-name",children:"\u0420\u0430\u0437\u043c\u0435\u0440"}),Object(l.jsx)("span",{className:"card__row-line"}),Object(l.jsxs)("div",{className:"card__row-value",children:[v,"\xa0\u043c"]})]})]}),Object(l.jsxs)("div",{className:"card__rating",children:[Object(l.jsx)("h3",{className:"card__rating-title",children:"\u041e\u0446\u0435\u043d\u043a\u0430:"}),Object(l.jsx)("div",{className:"card__rating-text",children:b?"\u043e\u043f\u0430\u0441\u0435\u043d":"\u043d\u0435 \u043e\u043f\u0430\u0441\u0435\u043d"}),r?Object(l.jsx)("button",{type:"button",onClick:function(){y(n)},className:"btn",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"}):Object(l.jsx)("button",{type:"button",onClick:function(){w(n)},className:"btn ".concat(_?"btn_disable":""),children:_?"\u0412 \u0441\u043f\u0438\u0441\u043a\u0435 \u043d\u0430 \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0435\u043d\u0438\u0435":"\u041d\u0430 \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0435\u043d\u0438\u0435"})]})]})})}var T=c(86);c(55);function R(e){var t=e.measure,c=e.info,a=E.getTransformDate(c.close_approach_date),n=Math.floor(c.relative_velocity.kilometers_per_hour),r=E.getTime(c.close_approach_date_full),s=E.getDistance(t,c.miss_distance),i=c.orbiting_body;return Object(l.jsx)("div",{className:"approach-item",children:Object(l.jsxs)("div",{className:"approach-item__wrapper",children:[Object(l.jsxs)("div",{className:"approach-item__date",children:[Object(l.jsx)("div",{className:"approach-item__header-title",children:"\u0414\u0430\u0442\u0430"}),a]}),Object(l.jsxs)("div",{className:"approach-item__info",children:[Object(l.jsx)("div",{className:"approach-item__header-title approach-item__header-title_right",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(l.jsxs)("div",{className:"approach-item__row",children:[Object(l.jsx)("div",{className:"approach-item__row-name",children:"\u0412\u0440\u0435\u043c\u044f \u0441\u0431\u043b\u0438\u0436\u0435\u043d\u0438\u044f"}),Object(l.jsx)("span",{className:"approach-item__row-line"}),Object(l.jsx)("div",{className:"approach-item__row-value",children:r})]}),Object(l.jsxs)("div",{className:"approach-item__row",children:[Object(l.jsx)("div",{className:"approach-item__row-name",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"}),Object(l.jsx)("span",{className:"approach-item__row-line"}),Object(l.jsxs)("div",{className:"approach-item__row-value",children:[n," ","\u043a\u043c/\u0447"]})]}),Object(l.jsxs)("div",{className:"approach-item__row",children:[Object(l.jsx)("div",{className:"approach-item__row-name",children:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"}),Object(l.jsx)("span",{className:"approach-item__row-line"}),Object(l.jsxs)("div",{className:"approach-item__row-value",children:[s," ",t]})]}),Object(l.jsxs)("div",{className:"approach-item__row",children:[Object(l.jsx)("div",{className:"approach-item__row-name",children:"\u041e\u0440\u0431\u0438\u0442\u0430"}),Object(l.jsx)("span",{className:"approach-item__row-line"}),Object(l.jsx)("div",{className:"approach-item__row-value",children:i})]})]})]})})}c(56);function S(){var e=Object(i.c)((function(e){return e.dataReducer.currentItem})).close_approach_data,t=Object(i.c)((function(e){return e.dataReducer.measure}));return Object(l.jsx)("div",{className:"approach-list",children:e.map((function(e){return Object(l.jsx)(R,{measure:t,info:e},Object(T.a)())}))})}c(57);function I(){var e=Object(i.c)((function(e){return e.dataReducer.currentItem}));return Object(l.jsxs)("div",{className:"card-page",children:[Object(l.jsx)("h1",{className:"card-page__title",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0430\u0441\u0442\u0435\u0440\u043e\u0438\u0434\u0430"}),Object(l.jsx)(C,{id:e.id,data:e,isDestruction:!1},e.id),Object(l.jsx)("h2",{className:"card-page__subtitle",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u0441\u0431\u043b\u0438\u0436\u0435\u043d\u0438\u0439"}),Object(l.jsx)(S,{})]})}var M=c(21),A=c.n(M),L=c(34),F=c(35),U=c.n(F);var G=function(){return function(){var e=Object(L.a)(A.a.mark((function e(t){var c,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U()("".concat("https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=JdZrMyQiNT5Zg1vwjiY2H2UCEWw8K7ZnTQdm8rww"));case 3:return c=e.sent,e.next=6,c.data.near_earth_objects;case 6:a=e.sent,t(w(a)),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()};c(77);function H(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.dataReducer.isDanger})),c=function(){e(y(!t))};return Object(a.useEffect)((function(){return function(){e(y(!1))}}),[e]),Object(l.jsx)("div",{role:"checkbox","aria-checked":t,tabIndex:0,className:"filter",onClick:c,onKeyPress:c,children:Object(l.jsxs)("div",{className:"filter__label",children:["\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u043f\u0430\u0441\u043d\u044b\u0435",Object(l.jsx)("input",{type:"checkbox",className:"filter__input",defaultChecked:t}),Object(l.jsx)("span",{className:"filter__mark"})]})})}c(78);function J(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.dataReducer.measure})),c=function(t){e(function(e){return{type:h,payload:e}}(t))};return Object(l.jsxs)("div",{className:"options",children:[Object(l.jsxs)("button",{type:"button",onClick:function(){return c("\u043a\u043c")},className:"options__btn ".concat("\u043a\u043c"===t?"options__btn_active":""),children:["\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"," ",Object(l.jsx)("span",{className:"options__btn-text",children:"\u0432 \u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440\u0430\u0445"}),","]}),Object(l.jsxs)("button",{type:"button",onClick:function(){return c("\u043b\u0443\u043d\u0430\u0440")},className:"options__btn ".concat("\u043b\u0443\u043d\u0430\u0440"===t?"options__btn_active":""),children:[Object(l.jsx)("span",{className:"options__btn-text",children:"\u0432 \u0434\u0438\u0441\u0442\u0430\u0446\u0438\u044f\u0445"})," ","\u0434\u043e \u043b\u0443\u043d\u044b"]})]})}c(79);function Z(){return Object(l.jsx)("div",{className:"preloader"})}c(80);function z(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.dataReducer.data})),c=Object(i.c)((function(e){return e.dataReducer.isDanger})),n=Object(i.c)((function(e){return e.dataReducer.offset})),r=(c?Object(b.a)(t).filter((function(e){return e.is_potentially_hazardous_asteroid===c})):t).slice(0,n),s=Object(a.useCallback)((function(t){t.target.documentElement.scrollHeight-(t.target.documentElement.scrollTop+window.innerHeight)<50&&e({type:x})}),[e]);return Object(a.useEffect)((function(){e(G())}),[e]),Object(a.useEffect)((function(){return document.addEventListener("scroll",s),function(){document.removeEventListener("scroll",s)}}),[s]),Object(a.useEffect)((function(){return function(){e({type:v})}}),[e]),Object(l.jsxs)("div",{className:"asteroids",children:[Object(l.jsxs)("div",{className:"asteroids__options",children:[Object(l.jsx)(H,{}),Object(l.jsx)(J,{})]}),Object(l.jsxs)("div",{className:"asteroids__list",children:[r.length<1&&Object(l.jsx)(Z,{}),r.map((function(e){return Object(l.jsx)(C,{id:e.id,data:e,isDestruction:!1},e.id)}))]})]})}c(81);function K(){var e=Object(i.c)((function(e){return e.dataReducer.destructionCart}));return Object(l.jsx)("div",{className:"destruction",children:Object(l.jsxs)("div",{className:"destruction__list",children:[e.length>0?e.map((function(e){return Object(l.jsx)(C,{id:e.id,data:e,isDestruction:!0},e.id)})):Object(l.jsx)("p",{className:"destruction__empty",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442"}),e.length>0&&Object(l.jsx)("button",{type:"button",className:"btn btn_center",children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u0440\u0438\u0433\u0430\u0434\u0443"})]})})}var Q=function(){return Object(l.jsx)(o.a,{children:Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(j,{}),Object(l.jsxs)(d.d,{children:[Object(l.jsx)(d.b,{path:"/asteroids",component:z}),Object(l.jsx)(d.b,{path:"/destruction",component:K}),Object(l.jsx)(d.b,{path:"/asteroid/:id",component:I}),Object(l.jsx)(d.a,{to:"/asteroids"})]}),Object(l.jsx)(u,{})]})})})},W=c(15),Y=c(36),B=c(37),P=c(22),V=Object(W.combineReducers)({dataReducer:function(){var e,t,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:return Object(_.a)(Object(_.a)({},c),{},{data:a.payload});case h:return Object(_.a)(Object(_.a)({},c),{},{measure:a.payload});case O:return Object(_.a)(Object(_.a)({},c),{},{isDanger:a.payload});case p:return e=c.data.find((function(e){return e.id===a.id})),t=c.destructionCart.find((function(e){return e?e.id===a.id:null})),Object(_.a)(Object(_.a)({},c),{},{destructionCart:t?Object(b.a)(c.destructionCart):[].concat(Object(b.a)(c.destructionCart),[e])});case f:return Object(_.a)(Object(_.a)({},c),{},{destructionCart:Object(b.a)(c.destructionCart.filter((function(e){return e.id!==a.id})))});case x:return Object(_.a)(Object(_.a)({},c),{},{offset:c.offset+5});case v:return Object(_.a)(Object(_.a)({},c),{},{offset:5});case N:return Object(_.a)(Object(_.a)({},c),{},{currentItem:a.payload});default:return c}}}),q=Object(Y.composeWithDevTools)(Object(W.applyMiddleware)(Object(P.save)(),B.a))(W.createStore)(V,Object(P.load)());c(83);s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(i.a,{store:q,children:Object(l.jsx)(Q,{})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.206bdfc8.chunk.js.map